═══════════════════════════════════════════════════════════════════════════
  ИНСТРУКЦИЯ ПО СОЗДАНИЮ EXE ФАЙЛОВ С ИКОНКОЙ
  Версия 1.0 | 2026-01-21
═══════════════════════════════════════════════════════════════════════════

📦 ЧТО ПОЛУЧИТСЯ В ИТОГЕ?
─────────────────────────

После выполнения этих шагов у вас будут готовые EXE файлы:
  ✅ RenameMedia.exe (GUI версия с окном и иконкой)
  ✅ RenameMediaCLI.exe (CLI версия для командной строки)

Эти файлы можно запускать на любом Windows компьютере БЕЗ установки Python!


═══════════════════════════════════════════════════════════════════════════
ШАГ 1: ПОДГОТОВКА ИКОНКИ (уже готово!)
═══════════════════════════════════════════════════════════════════════════

✅ У вас уже есть:
   - Lgp85-Blue-Crystal-My-Documents.256.png (исходная PNG иконка)
   - icon.ico (конвертированная ICO иконка)

Если нужно заново создать icon.ico:
   python convert_icon.py


═══════════════════════════════════════════════════════════════════════════
ШАГ 2: УСТАНОВКА PYINSTALLER
═══════════════════════════════════════════════════════════════════════════

1. Откройте командную строку в папке проекта

2. Установите PyInstaller:
   pip install pyinstaller

3. Дождитесь завершения установки


═══════════════════════════════════════════════════════════════════════════
ШАГ 3: СОЗДАНИЕ EXE ДЛЯ GUI ВЕРСИИ (с иконкой)
═══════════════════════════════════════════════════════════════════════════

Выполните команду:

pyinstaller --onefile --windowed --icon=icon.ico --name="RenameMedia" rename_media_gui.py

Параметры команды:
  --onefile       Один EXE файл (все библиотеки упакованы внутрь)
  --windowed      Без консольного окна (только GUI)
  --icon=icon.ico Добавить иконку
  --name=...      Имя выходного файла

⏳ Процесс займёт 1-3 минуты (зависит от компьютера)


═══════════════════════════════════════════════════════════════════════════
ШАГ 4: СОЗДАНИЕ EXE ДЛЯ CLI ВЕРСИИ
═══════════════════════════════════════════════════════════════════════════

Выполните команду:

pyinstaller --onefile --icon=icon.ico --name="RenameMediaCLI" rename_media_cli.py

Параметры:
  --onefile       Один EXE файл
  --icon=icon.ico Иконка
  --name=...      Имя файла

(Без --windowed, чтобы показывалось консольное окно)


═══════════════════════════════════════════════════════════════════════════
ШАГ 5: ГДЕ НАЙТИ ГОТОВЫЕ EXE ФАЙЛЫ?
═══════════════════════════════════════════════════════════════════════════

После выполнения команд в папке проекта появятся:

Claude_Rename_media/
│
├── dist/                      ← ЗДЕСЬ ГОТОВЫЕ EXE ФАЙЛЫ!
│   ├── RenameMedia.exe        ← GUI версия (~15-20 MB)
│   └── RenameMediaCLI.exe     ← CLI версия (~15-20 MB)
│
├── build/                     ← Временные файлы сборки (можно удалить)
└── *.spec                     ← Файлы конфигурации PyInstaller


═══════════════════════════════════════════════════════════════════════════
ШАГ 6: ТЕСТИРОВАНИЕ EXE ФАЙЛОВ
═══════════════════════════════════════════════════════════════════════════

1. Перейдите в папку dist/

2. Запустите RenameMedia.exe:
   - Должно открыться окно программы
   - Иконка должна отображаться в заголовке окна
   - Иконка должна быть видна в проводнике Windows

3. Протестируйте на тестовой папке с копией файлов


═══════════════════════════════════════════════════════════════════════════
ШАГ 7: СОЗДАНИЕ ДИСТРИБУТИВА ДЛЯ РАСПРОСТРАНЕНИЯ
═══════════════════════════════════════════════════════════════════════════

Создайте папку для распространения:

RenameMedia_v1.0/
│
├── RenameMedia.exe            ← Скопировать из dist/
├── RenameMediaCLI.exe         ← Скопировать из dist/
├── README_USER.txt            ← Инструкция
├── QUICK_START.txt            ← Быстрый старт
└── LICENCE.txt                ← Лицензия (опционально)

Эту папку можно:
  ✅ Заархивировать в ZIP
  ✅ Выложить на Google Drive / Яндекс.Диск
  ✅ Передать другим пользователям
  ✅ Выложить на GitHub Releases


═══════════════════════════════════════════════════════════════════════════
📝 РАЗМЕРЫ ФАЙЛОВ
═══════════════════════════════════════════════════════════════════════════

Ожидаемые размеры EXE:
  RenameMedia.exe:     ~15-20 MB
  RenameMediaCLI.exe:  ~15-20 MB

Архив ZIP:            ~10-12 MB (сжатый)

Почему так много?
  → В EXE упакованы Python и все библиотеки (Pillow, tkinter)
  → Зато не требуется установка Python на целевом компьютере


═══════════════════════════════════════════════════════════════════════════
⚠️ ВАЖНЫЕ ЗАМЕЧАНИЯ
═══════════════════════════════════════════════════════════════════════════

1. ffmpeg НЕ включён в EXE:
   - Для работы с видео метаданными пользователь должен установить ffmpeg
   - Или программа будет использовать дату файловой системы

2. Антивирусы:
   - Некоторые антивирусы могут ругаться на EXE созданные PyInstaller
   - Это false positive (ложное срабатывание)
   - Можно добавить EXE в исключения антивируса

3. Тестирование:
   - Протестируйте EXE на чистом компьютере без Python
   - Убедитесь что всё работает корректно


═══════════════════════════════════════════════════════════════════════════
🔧 РАСШИРЕННЫЕ ПАРАМЕТРЫ PYINSTALLER (опционально)
═══════════════════════════════════════════════════════════════════════════

Для более тонкой настройки можно использовать:

--add-data "README_USER.txt;."   Добавить файл в EXE
--hidden-import PIL              Явно указать импорт
--version-file version.txt       Добавить версию
--noconsole                      То же что --windowed
--uac-admin                      Запрос прав администратора
--clean                          Очистка перед сборкой

Пример расширенной команды:

pyinstaller --onefile --windowed \
            --icon=icon.ico \
            --name="RenameMedia" \
            --version-file=version.txt \
            --clean \
            rename_media_gui.py


═══════════════════════════════════════════════════════════════════════════
📞 ПРОБЛЕМЫ И РЕШЕНИЯ
═══════════════════════════════════════════════════════════════════════════

Проблема: "pyinstaller не найден"
Решение:  pip install pyinstaller

Проблема: "icon.ico не найден"
Решение:  Запустите python convert_icon.py

Проблема: EXE не запускается
Решение:  Проверьте логи в папке build/

Проблема: Антивирус блокирует EXE
Решение:  Добавьте в исключения антивируса

Проблема: EXE слишком большой
Решение:  Это нормально для PyInstaller (~15-20 MB)


═══════════════════════════════════════════════════════════════════════════
✅ ГОТОВО!
═══════════════════════════════════════════════════════════════════════════

После выполнения всех шагов у вас будут:
  ✅ Готовые EXE файлы с красивой иконкой
  ✅ Портативные приложения (не требуют установки)
  ✅ Работают на любом Windows компьютере

Удачной сборки! 🎉
